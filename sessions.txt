req.session.userId = user.id;

{userId: 1} -> send that to redis


---STORE IN REDIS---
1
sess:qwoeiuowqjoqjw -> { userId: 1 }

---SET COOKIE ON BROWSER---
2
express-session will set a cookie on my browser qwoieu9012798quw9euoe1i2uo

---COOKIE INFO IS SENT TO THE SERVER (WHEN USER MAKES REQUEST)---
3
when user makes a request
qwoieu9012798quw9euoe1i2uo -> sent to the server

---SERVER TRANSLATES COOKIE INFO INTO PASSWORD AND ALLOWS USER TO MAKE REQUEST---
4
server decrypts the cookie
qwoieu9012798quw9euoe1i2uo -> sess:qwoeiuowqjoqjw

---SERVER MAKES REQUEST TO REDIS (SENDING THE RIGHT PASSWORD)---
5
server makes a request to redis
sess:qwoeiuowqjoqjw -> { userId: 1 }

req.session = { userId: 1 }